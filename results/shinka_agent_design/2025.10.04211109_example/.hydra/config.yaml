verbose: false
results_dir: results
run_name: ${now:%Y.%m.%d}${now:%H%M%S}
output_dir: ${results_dir}/${exp_name}/${run_name}${variant_suffix}
db_config:
  _target_: shinka.database.DatabaseConfig
  db_path: evolution_db.sqlite
  num_islands: 2
  archive_size: 20
  exploitation_ratio: 0.2
  elite_selection_ratio: 0.3
  num_archive_inspirations: 4
  num_top_k_inspirations: 2
  migration_interval: 10
  migration_rate: 0.1
  island_elitism: true
evo_config:
  _target_: shinka.core.EvolutionConfig
  patch_types:
  - diff
  - full
  patch_type_probs:
  - 0.5
  - 0.5
  num_generations: 20
  max_parallel_jobs: 1
  max_patch_attempts: 10
  llm_models:
  - gemini-2.5-flash
  llm_dynamic_selection: null
  embedding_model: gemini-embedding-001
  results_dir: ${output_dir}
  task_sys_msg: 'You are an expert machine learning engineer tasked with designing
    a new agentic system capable of solving math problems.

    You will be given a program that implements an agent scaffold. Your goal is to
    design a new agentic system by suggesting improvements to the scaffold.

    You will be given a set of performance metrics for the program. Your goal is to
    maximize the `combined_score` of the program.

    '
  language: python
  init_program_path: examples/agent_design/initial.py
  job_type: local
evaluate_function:
  _target_: examples.agent_design.evaluate.main
  program_path: ???
  results_dir: ???
distributed_job_config:
  _target_: shinka.launch.SlurmCondaJobConfig
  modules:
  - cuda/12.4
  - cudnn/8.9.7
  - hpcx/2.20
  eval_program_path: shinka/eval_hydra.py
  conda_env: shinka
  time: 01:00:00
  cpus: 16
  gpus: 1
  mem: 8G
exp_name: shinka_agent_design
job_config:
  _target_: shinka.launch.LocalJobConfig
  eval_program_path: ${distributed_job_config.eval_program_path}
variant_suffix: _example
